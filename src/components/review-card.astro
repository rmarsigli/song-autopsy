---
import { getClassification } from '../utils/classification';

interface Props {
  song: string;
  artistName: string;
  score: number;
  snippet: string;
  href: string;
}

const { song, artistName, score, snippet, href } = Astro.props;

const classification = getClassification(score);
const scoreColor = score >= 8 ? 'text-emerald-400' : score >= 6 ? 'text-blue-400' : score >= 4 ? 'text-amber-400' : 'text-red-400';
---

<a href={href} class="group block bg-zinc-900 border border-zinc-800 rounded-lg p-6 hover:border-zinc-700 transition-colors">
  <div class="flex items-start justify-between gap-4 mb-3">
    <div class="flex-1 min-w-0">
      <h3 class="text-lg font-semibold text-zinc-100 group-hover:text-white transition-colors truncate">
        {song}
      </h3>
      <p class="text-sm text-zinc-400 mt-1">{artistName}</p>
    </div>
    <div class="flex flex-col items-end gap-1 shrink-0">
      <span class={`text-2xl font-bold ${scoreColor}`}>
        {score.toFixed(1)}
      </span>
      <span class="text-xs text-zinc-500 uppercase tracking-wide">
        {classification}
      </span>
    </div>
  </div>
  
  <p class="text-sm text-zinc-400 line-clamp-3 leading-relaxed">
    {snippet}
  </p>
</a>
